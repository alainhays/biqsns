{"version":3,"sources":["add-to-cart.js"],"names":["jQuery","$","wc_add_to_cart_params","document","on","$thisbutton","this","is","attr","removeClass","addClass","data","each","key","value","body","trigger","post","wc_ajax_url","toString","replace","response","this_page","window","location","error","product_url","cart_redirect_after_add","cart_url","fragments","cart_hash","fadeTo","block","message","overlayCSS","opacity","is_cart","parent","find","length","after","i18n_view_cart","replaceWith","stop","css","unblock","load"],"mappings":"AAGAA,OAAQ,SAAUC,GAGjB,MAAsC,mBAA1BC,4BAKZD,GAAGE,UAAWC,GAAI,QAAS,sBAAuB,WAGjD,GAAIC,GAAcJ,EAAGK,KAErB,IAAKD,EAAYE,GAAI,qBAAwB,CAE5C,IAAOF,EAAYG,KAAM,mBACxB,OAAO,CAGRH,GAAYI,YAAa,SACzBJ,EAAYK,SAAU,UAEtB,IAAIC,KAyFJ,OAvFAV,GAAEW,KAAMP,EAAYM,OAAQ,SAAUE,EAAKC,GAC1CH,EAAKE,GAAOC,IAIbb,EAAGE,SAASY,MAAOC,QAAS,kBAAoBX,EAAaM,IAG7DV,EAAEgB,KAAMf,sBAAsBgB,YAAYC,WAAWC,QAAS,eAAgB,eAAiBT,EAAM,SAAUU,GAE9G,GAAOA,EAAP,CAIA,GAAIC,GAAYC,OAAOC,SAASL,UAIhC,IAFAG,EAAYA,EAAUF,QAAS,cAAe,iBAEzCC,EAASI,OAASJ,EAASK,YAE/B,YADAH,OAAOC,SAAWH,EAASK,YAK5B,IAAuD,QAAlDxB,sBAAsByB,wBAG1B,YADAJ,OAAOC,SAAWtB,sBAAsB0B,SAKxCvB,GAAYI,YAAa,UAEzB,IAAIoB,GAAYR,EAASQ,UACrBC,EAAYT,EAASS,SAGpBD,IACJ5B,EAAEW,KAAMiB,EAAW,SAAUhB,GAC5BZ,EAAGY,GAAMH,SAAU,cAKrBT,EAAG,6CAA8C8B,OAAQ,MAAO,OAAQC,OACvEC,QAAS,KACTC,YACCC,QAAS,MAKX9B,EAAYK,SAAU,SAGfR,sBAAsBkC,SAAoE,IAAzD/B,EAAYgC,SAASC,KAAM,kBAAmBC,QACrFlC,EAAYmC,MAAO,aAAetC,sBAAsB0B,SAAW,6CAClE1B,sBAAsBuC,eAAiB,KAAOvC,sBAAsBuC,eAAiB,wDAIlFZ,GACJ5B,EAAEW,KAAMiB,EAAW,SAAUhB,EAAKC,GACjCb,EAAGY,GAAM6B,YAAa5B,KAKxBb,EAAG,oCAAqC0C,MAAM,GAAOC,IAAK,UAAW,KAAMC,UAG3E5C,EAAG,oBAAqB6C,KAAMxB,EAAY,8BAA+B,WAExErB,EAAG,oBAAqB0C,MAAM,GAAOC,IAAK,UAAW,KAAMC,UAE3D5C,EAAGE,SAASY,MAAOC,QAAS,yBAG7Bf,EAAG,gBAAiB6C,KAAMxB,EAAY,0BAA2B,WAChErB,EAAG,gBAAiB0C,MAAM,GAAOC,IAAK,UAAW,KAAMC,YAIxD5C,EAAGE,SAASY,MAAOC,QAAS,iBAAmBa,EAAWC,EAAWzB,QAIhE,EAIR,OAAO","file":"add-to-cart.min.js","sourcesContent":["/*!\n * WooCommerce Add to Cart JS\n */\njQuery( function( $ ) {\n\n\t/* global wc_add_to_cart_params */\n\tif ( typeof wc_add_to_cart_params === 'undefined' ) {\n\t\treturn false;\n\t}\n\n\t// Ajax add to cart\n\t$( document ).on( 'click', '.add_to_cart_button', function() {\n\n\t\t// AJAX add to cart request\n\t\tvar $thisbutton = $( this );\n\n\t\tif ( $thisbutton.is( '.ajax_add_to_cart' ) ) {\n\n\t\t\tif ( ! $thisbutton.attr( 'data-product_id' ) ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t$thisbutton.removeClass( 'added' );\n\t\t\t$thisbutton.addClass( 'loading' );\n\n\t\t\tvar data = {};\n\n\t\t\t$.each( $thisbutton.data(), function( key, value ) {\n\t\t\t\tdata[key] = value;\n\t\t\t});\n\n\t\t\t// Trigger event\n\t\t\t$( document.body ).trigger( 'adding_to_cart', [ $thisbutton, data ] );\n\n\t\t\t// Ajax action\n\t\t\t$.post( wc_add_to_cart_params.wc_ajax_url.toString().replace( '%%endpoint%%', 'add_to_cart' ), data, function( response ) {\n\n\t\t\t\tif ( ! response ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar this_page = window.location.toString();\n\n\t\t\t\tthis_page = this_page.replace( 'add-to-cart', 'added-to-cart' );\n\n\t\t\t\tif ( response.error && response.product_url ) {\n\t\t\t\t\twindow.location = response.product_url;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Redirect to cart option\n\t\t\t\tif ( wc_add_to_cart_params.cart_redirect_after_add === 'yes' ) {\n\n\t\t\t\t\twindow.location = wc_add_to_cart_params.cart_url;\n\t\t\t\t\treturn;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t$thisbutton.removeClass( 'loading' );\n\n\t\t\t\t\tvar fragments = response.fragments;\n\t\t\t\t\tvar cart_hash = response.cart_hash;\n\n\t\t\t\t\t// Block fragments class\n\t\t\t\t\tif ( fragments ) {\n\t\t\t\t\t\t$.each( fragments, function( key ) {\n\t\t\t\t\t\t\t$( key ).addClass( 'updating' );\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t// Block widgets and fragments\n\t\t\t\t\t$( '.shop_table.cart, .updating, .cart_totals' ).fadeTo( '400', '0.6' ).block({\n\t\t\t\t\t\tmessage: null,\n\t\t\t\t\t\toverlayCSS: {\n\t\t\t\t\t\t\topacity: 0.6\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// Changes button classes\n\t\t\t\t\t$thisbutton.addClass( 'added' );\n\n\t\t\t\t\t// View cart text\n\t\t\t\t\tif ( ! wc_add_to_cart_params.is_cart && $thisbutton.parent().find( '.added_to_cart' ).length === 0 ) {\n\t\t\t\t\t\t$thisbutton.after( ' <a href=\"' + wc_add_to_cart_params.cart_url + '\" class=\"added_to_cart wc-forward\" title=\"' +\n\t\t\t\t\t\t\twc_add_to_cart_params.i18n_view_cart + '\">' + wc_add_to_cart_params.i18n_view_cart + '<span class=\"fa fa-chevron-circle-right\"></span></a>' );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Replace fragments\n\t\t\t\t\tif ( fragments ) {\n\t\t\t\t\t\t$.each( fragments, function( key, value ) {\n\t\t\t\t\t\t\t$( key ).replaceWith( value );\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t// Unblock\n\t\t\t\t\t$( '.widget_shopping_cart, .updating' ).stop( true ).css( 'opacity', '1' ).unblock();\n\n\t\t\t\t\t// Cart page elements\n\t\t\t\t\t$( '.shop_table.cart' ).load( this_page + ' .shop_table.cart:eq(0) > *', function() {\n\n\t\t\t\t\t\t$( '.shop_table.cart' ).stop( true ).css( 'opacity', '1' ).unblock();\n\n\t\t\t\t\t\t$( document.body ).trigger( 'cart_page_refreshed' );\n\t\t\t\t\t});\n\n\t\t\t\t\t$( '.cart_totals' ).load( this_page + ' .cart_totals:eq(0) > *', function() {\n\t\t\t\t\t\t$( '.cart_totals' ).stop( true ).css( 'opacity', '1' ).unblock();\n\t\t\t\t\t});\n\n\t\t\t\t\t// Trigger event so themes can refresh other areas\n\t\t\t\t\t$( document.body ).trigger( 'added_to_cart', [ fragments, cart_hash, $thisbutton ] );\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn true;\n\t});\n\n});\n"]}