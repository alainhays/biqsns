function BIQWidgetStructure(){}function BIQThemeDialog(e,t,i,a,n,l){var o=this;o.biq_theme_manager=null,o.customFullScreen=t("xs")||t("sm"),o.elementWrapperDefault={target:document.getElementById(main_wrapper_id)},o.template=null,o.params={},o.show=function(t,i){o.params=i,e.show({controller:o.controller,template:o.template,parent:angular.element(document.body),targetEvent:o.elementWrapperDefault,clickOutsideToClose:!0,escapeToClose:!0,fullscreen:o.customFullScreen}).then(function(e){},function(){o.hide()})},o.controller=function(e,i){e.input_value=o.params.values,e.widget_not_ready=o.params.widget_not_ready,e.hide=function(e){e="undefined"!=typeof e?e:!1,o.hide(e),i.hide()},e.submit=function(t){var i=new FormData($b("#widget-dialog form")[0]);for(var r in e.input_value){var d=bisnull(e.input_value[r])?"":e.input_value[r];i.append(r,d)}var s=$b(".lf-ng-md-file-input");if(s.length)for(var u=0;u<s.length;u++){var c=angular.element($b(s[u])).data("$ngModelController").$modelValue[0];bisnull(c)||i.append($b(s[u]).attr("lf-files"),c.lfFile)}i.append("action","widget_save"),o.functions.maskShow("widget-dialog"),$b.ajax({url:ajaxurl,type:"POST",data:i,async:!1,cache:!1,contentType:!1,processData:!1,success:function(t){var i=JSON.parse(t);if(i.is_found)e.hide(!0),$b("body").find('[data-biq-widget-id="'+i.widget_id+'"]').replaceWith(i.html),l(function(){n.BIQThemeManager.widgetHoverApply(i.widget_id)}),a("Widget succesfully updated","success");else{o.functions.maskHide("widget-dialog");var r=bisnull(i.html)?"Empty response, seem widget functions not defined properly.":i.html;a("Widget update failed: "+r,"error")}}})},e.dialog={},e.$watch(function(){return t("gt-sm")},function(t){e.dialog.flex=t?40:100,e.dialog.height=t?"auto":"100%"}),e.$watch(function(){return t("xs")||t("sm")},function(e){o.customFullscreen=e===!0})},o.hide=function(e){e="undefined"!=typeof e?e:!1,o.functions.maskHide("widget-dialog"),e||a("Widget edit canceled","warning")},o.functions={maskShow:function(e){i.start({referenceId:e})},maskHide:function(e){i.stop({referenceId:e})}}}function BIQThemeManager(e,t,i){var a=this;a.Notification=e,a.BIQWidgetElementParser=i,a.structure=new BIQWidgetStructure,a.structure_item=null,a.dialog=t}function BIQWidgetElementParser(){}BIQWidgetStructureDefaults={attribute_css:[{key:"css_inline",type:"text",label:"Inline CSS"},{key:"classes",type:"text",label:"CSS Classes",placeholder:"Sparate by space for multiple class name"}]},BIQWidgetStructure.prototype.contact_email_simple={title:"Setting - Contact Email Simple",attribute_main:[{key:"content",type:"text",label:"Email Address",required:!0,input_attrs:'type="email"'},{key:"icon_type",type:"radio",label:"Icon type",value:[{label:"Image",value:"image"},{label:"Class",value:"class"}]},{key:"icon_value",type:"text",label:"URL Image / class","default":template_uri+"/images/biq/widgets/contact-email-simple/icon-contact-email-21x14.png",placeholder:"Leave empty for default value"}],attribute_css:[{key:"css_inline",type:"text",label:"Inline CSS"},{key:"classes",type:"text",label:"CSS Classes",placeholder:"Sparate by space for multiple class name"}]},BIQWidgetStructure.prototype.contact_phone_simple={attribute_main:[]},BIQWidgetStructure.prototype.logo={title:"Setting - Logo",attribute_main:[{key:"img_file_name",type:"file",label:"Browse"},{key:"img_title",type:"text",label:"Image Title"},{key:"img_alt",type:"text",label:"Alternative text"}],attribute_css:[{key:"css_inline",type:"text",label:"Inline CSS"},{key:"classes",type:"text",label:"CSS Classes",placeholder:"Sparate by space for multiple class name"}]},BIQWidgetStructure.prototype.menu_main={title:"Setting Main Menu",attribute_main:[{key:"float",type:"radio",label:"Float",value:[{label:"Right",value:"right"},{label:"Left",value:"left"}]}],attribute_css:[{key:"css_inline",type:"text",label:"Inline CSS"},{key:"classes",type:"text",label:"CSS Classes",placeholder:"Sparate by space for multiple class name"}]},BIQWidgetStructure.prototype.heading_section_left={title:"Setting - Heading section left",attribute_main:[{key:"content",type:"text",label:"Header Text",required:!0},{key:"tag_name",type:"radio",label:"Tag name",value:[{label:"H4",value:"h4"},{label:"H3",value:"h3"},{label:"H2",value:"h2"},{label:"H1",value:"h1"}]},{key:"highlight",type:"radio",label:"Highlight",value:[{label:'<font style="color:#113481">Default</font>',value:"highlight-default"},{label:'<font style="color:#df1f26">Red</font>',value:"highlight-red"},{label:"None",value:"none"}]}],attribute_css:BIQWidgetStructureDefaults.attribute_css},BIQThemeManager.prototype.init=function(){var e=this;$b(document).ready(function(){e.loading("body",1500),e.hoverToEdit(),window.onbeforeunload=function(){e.loading("body")}})},BIQThemeManager.prototype.hoverToEdit=function(){var e=this;e.hover_to_edit={widget_sel:null,hide_delay:500,is_editing:!1,hide_timeout_obj:null,hide:function(e){e="undefined"!=typeof e?e:100,$b(".hover-to-edit .highlight").hide(e,function(){$b(".hover-to-edit").hide(0)})},auto_hide:function(){var e=this;e.hide()},onmouseleave:function(){var e=this;e.hide_timeout_obj=setTimeout(function(){e.auto_hide()},e.hide_delay)},set_overlay_sizes:function(t){var i=e.hover_to_edit.widget_sel.offset();$b(".hover-to-edit").css({left:i.left+"px",top:i.top+"px"}),$b(".hover-to-edit .highlight").css({width:e.hover_to_edit.widget_sel.outerWidth(),height:e.hover_to_edit.widget_sel.outerHeight()}),"function"==typeof t&&t()}};var t='<div class="hover-to-edit"> \n		<div class="highlight" title="Double click here to edit"></div>\n		<div class="footer"><div class="button edit">Edit</div></div>\n	    </div>';$b("body").append(t),$b(".hover-to-edit .highlight").on("dblclick",function(t){e.editWidget(t)}),$b(".hover-to-edit .footer .button").on("click",function(t){e.editWidget(t)}),$b(".hover-to-edit").on("hover",function(t){"mouseenter"===t.type?(e.hover_to_edit.is_editing=!1,clearTimeout(e.hover_to_edit.hide_timeout_obj)):"mouseleave"===t.type&&e.hover_to_edit.onmouseleave()}),e.widgetHoverApply()},BIQThemeManager.prototype.widgetHoverApply=function(e){var t=this,i="undefined"!=typeof e?'.biq-widgets[data-biq-widget-id="'+e+'"]':".biq-widgets";$b(i).on("hover",function(e){"mouseenter"===e.type&&(clearTimeout(t.hover_to_edit.hide_timeout_obj),$b(".hover-to-edit .highlight").stop(!1,!0),t.hover_to_edit.widget_sel=null,t.hover_to_edit.widget_sel=$b(this),t.hover_to_edit.set_overlay_sizes(function(){$b(".hover-to-edit").show(0,function(){$b(".hover-to-edit .highlight").show(200)})}))})},BIQThemeManager.prototype.editWidget=function(e){var t=this;t.hover_to_edit.is_editing=!0;var i=t.generateWidgetInputAll();t.dialog.biq_theme_manager=t,t.dialog.template='	    <md-dialog id="widget-dialog" aria-label="'+i.title+'" class="bs-loading-container" 		     bs-loading-overlay="widget-dialog" bs-loading-overlay-template-url="'+template_uri+'/backend/app/template/dialog/dialog-default.html" 		     bs-loading-overlay-delay="2000" flex="{{dialog.flex}}" style="height:{{dialog.height}}" 		ng-cloak> 	    <form name="widgetForm" class="biq-dialog"> 		<md-toolbar class="bdialog-toolbar"> 		  <div class="md-toolbar-tools"> 		    <h2>'+i.title+'</h2> 		    <span flex></span> 		    <md-button class="md-icon-button" ng-click="hide()"> 		      <md-icon md-svg-src="'+template_uri+'/images/icon/dialog_close.svg" aria-label="Close dialog"></md-icon> 		    </md-button> 		  </div> 		</md-toolbar> 		<md-dialog-content layout="column" layout-padding ng-if="widget_not_ready==null">                     <input type="hidden" name="widget_type" ng-model="input_value.widget_type">                    <input type="hidden" name="widget_id" ng-model="input_value.widget_id">			<biq-tab tab-type="tab" header-height="40" style="margin:5px;" container-width="100%">		    '+i.main+i.css+'  </biq-tab>		</md-dialog-content> 		<md-dialog-actions layout="row" ng-if="widget_not_ready==null"> 		    <span flex></span> 		    <md-button type="submit" ng-click="submit(true)" class="md-primary" md-autofocus>Submit</md-button> 		    <md-button ng-click="hide()" style="margin-left:10px;">Cancel</md-button> 		</md-dialog-actions>                                     <md-dialog-content ng-if="widget_not_ready!=null" layout-padding>                    <h4 style="color:red;">Widget not ready for setting:</h4>                     <h3>{{widget_not_ready.message}}</h3>                </md-dialog-content>	    </form> 	</md-dialog>';var a=t.BIQWidgetElementParser.getValues(t.hover_to_edit.widget_sel.data("biqWidgetType"),t.hover_to_edit.widget_sel,t.structure_item),n=null,l=t.hover_to_edit.widget_sel.children(".widget-not-ready");l.length&&(n={message:l.html()}),t.dialog.show(e,{values:a,widget_not_ready:n}),t.hover_to_edit.onmouseleave()},BIQThemeManager.prototype.generateWidgetInputAll=function(){var e=this,t={main:"-",css:"-",title:"-",layout:""},i=e.hover_to_edit.widget_sel.data("biqWidgetType");e.structure_item=e.structure[i];for(var a="",n=0;n<e.structure_item.attribute_main.length;n++){var l=e.structure_item.attribute_main[n];switch(l.type){case"text":a+=e.generateInputForm.text(l);break;case"radio":a+=e.generateInputForm.radio(l);break;case"file":a+=e.generateInputForm.file(l)}}t.main='<biq-tab-item title="Main">'+a+"</biq-tab-item>";for(var o="",n=0;n<e.structure_item.attribute_css.length;n++){var r=e.structure_item.attribute_css[n];switch(r.type){case"text":o+=e.generateInputForm.text(r);break;case"radio":o+=e.generateInputForm.radio(r)}}return t.css='<biq-tab-item title="CSS">'+o+"</biq-tab-item>",t.title=e.structure_item.title,t},BIQThemeManager.prototype.generateInputForm={text:function(e){var t=e.hasOwnProperty("required")&&e.required,i=t?' ng-required="true"':"",a=e.hasOwnProperty("input_attrs")?e.input_attrs:"",n=bisnull(e.placeholder)?"":"( "+e.placeholder+" )",l='<md-input-container class="md-block" flex> 		    <label>'+e.label+": "+n+'</label> 		    <input name="'+e.key+'"'+i+' ng-model="input_value.'+e.key+'" '+a+'> 		    <div ng-if="'+t+'" ng-messages="widgetForm.'+e.key+'.$error"> 			<div ng-message="required" style="text-align:right;">'+e.label+" is required.</div> 		    </div> 		</md-input-container>";return l},file:function(e){var t='<lf-ng-md-file-input lf-files="'+e.key+'" lf-browse-label="'+e.label+'"                          accept="image/*" ng-disabled="ctrl.disabled01">                     </lf-ng-md-file-input>';return t},radio:function(e){for(var t='<md-input-container class="md-block" flex>		    <md-radio-group ng-model="input_value.'+e.key+'" layout="row">\n		    <span class="label1 w10">'+e.label+"</span>",i=0;i<e.value.length;i++){var a=e.value[i].label,n=e.value[i].value;t=t+'<md-radio-button value="'+n+'" class="md-primary">'+a+"</md-radio-button>"}var t=t+"</md-radio-group>\n		</md-input-container>";return t}},BIQThemeManager.prototype.loading=function(e,t){var i='<div id="biq-loading">\n	<div class="image">\n	    <img src="'+template_uri+'/images/biq/biq-logo.png"\n	    <br /><h3>Loading...</h3>\n	</div>\n    </div>';$b(e).append(i),"undefined"!=typeof t&&setTimeout(function(){$b("#biq-loading").hide(200)},t)},BIQThemeManager.prototype.getLayoutClass=function(){for(var e=this,t="",i=["header","body","footer"],a=e.hover_to_edit.widget_sel.closest(".layout"),n=0;n<i.length;n++)a.hasClass(i[n])&&(t=i[n]);return t},BIQWidgetElementParser.prototype.getValues=function(e,t,i){var a={},n=this,l=n.typeToFunction(e);return a=n[l](t,i)},BIQWidgetElementParser.prototype.contactEmailSimple=function(e,t){var i=this,a=i.defaultFormValues(e);if(a.content=e.children(".text").html(),e.children(".icon").children("img").length){a.icon_type="image";var n=e.children(".icon").children("img").attr("src");a.icon_value=n===i.getDefaultValue(t,"icon_value")?"":n}else a.icon_type="css",a.icon_value=e.children(".icon").children("span").attr("class");return a},BIQWidgetElementParser.prototype.logo=function(e,t){var i=this,a=i.defaultFormValues(e);return a.img_title=e.children("img").attr("title"),a.img_alt=e.children("img").attr("alt"),a},BIQWidgetElementParser.prototype.menuMain=function(e,t){var i=this,a=i.defaultFormValues(e);return a["float"]=e.hasClass("right")?"right":"left",a},BIQWidgetElementParser.prototype.headingSectionLeft=function(e,t){var i=this,a=i.defaultFormValues(e);return a.content=e.html(),a.tag_name=e.prop("tagName").toLowerCase(),e.hasClass("highlight-default")?a.highlight="highlight-default":e.hasClass("highlight-red")?a.highlight="highlight-red":a.highlight="none",a},BIQWidgetElementParser.prototype.getDefaultValue=function(e,t){for(var i="",a=0;a<e.attribute_main.length;a++)e.attribute_main[a].key===t&&(i=e.attribute_main[a]["default"]);for(var a=0;a<e.attribute_css.length;a++)e.attribute_css[a].key===t&&(i=e.attribute_css[a]["default"]);return i},BIQWidgetElementParser.prototype.defaultFormValues=function(e){var t=this,i={widget_id:e.data("biqWidgetId"),widget_type:e.data("biqWidgetType"),css_inline:e.attr("style"),classes:t.getClassNames(e)};return i},BIQWidgetElementParser.prototype.getClassNames=function(e){var t="undefined"!=typeof e.data("biqCssDefault")?$b.trim(e.data("biqCssDefault")).split(" "):[];t.push("biq-widgets"),t.push("biq-container");var i=$b.trim(e.attr("class")).split(" ");return i.diff(t).join(" ")},BIQWidgetElementParser.prototype.typeToFunction=function(e){for(var t="",i=e.split("_"),a=0;a<i.length;a++){var n=i[a];0!==a&&(n=n.ucfirst()),t+=n}return t};var biqTab=function(e){return{restrict:"E",transclude:!0,scope:{tabType:"@",headerHeight:"@",containerWidth:"@",ngclass:"="},controller:["$scope","$attrs",function(e,t){var i=this,a=e.panes=[];e.headerHeightClass=function(){return" h"+e.headerHeight},e.containerStyle={},t.hasOwnProperty("containerWidth")&&(e.containerStyle.width=t.containerWidth),e.select=function(e){angular.forEach(a,function(e){e.selected=!1}),e.selected=!0},e.click=function(t){e.select(t),"url"===e.tabType&&(window.location=t.url)},i.addPane=function(t){0!==a.length&&"undefined"==typeof t.active||e.select(t),a.push(t)}}],template:'<div class="biq-tab disable-select{{headerHeightClass()}}">\n	    <ul>\n	      <li ng-repeat="pane in panes" ng-class="{active:pane.selected}">\n		<span ng-click="click(pane)">{{pane.title}}</span>\n	      </li>\n	    </ul>\n	    <div ng-show="tabType===\'tab\'" class="tab-content" ng-transclude ng-style={{containerStyle}}></div>\n	  </div>'}},biqTabItem=function(){return{require:"^^biqTab",restrict:"E",transclude:!0,scope:{title:"@",url:"@",active:"@"},link:function(e,t,i,a){a.addPane(e)},template:'<div class="tab-pane animate-show" ng-show="selected">\n		<div ng-transclude></div>\n	    </div>'}},bngapp=angular.module("BApp",["ngAnimate","ngMaterial","lfNgMdFileInput","bsLoadingOverlay","ui-notification","ngMessages"]).controller("BCtrl",function(e,t,i,a){i.BIQThemeManager=a,i.BIQThemeManager.init(),i.scopeCtrl=e,angular.element(document).ready(function(){})}).factory("BIQThemeDialog",function(e,t,i,a,n,l){var o=new BIQThemeDialog(e,t,i,a,n,l);return o}).factory("BIQThemeManager",function(e,t,i){var a=new BIQThemeManager(e,t,i);return a}).factory("BIQWidgetElementParser",function(){var e=new BIQWidgetElementParser;return e}).directive("biqTab",biqTab).directive("biqTabItem",biqTabItem).config(function(e){e.setOptions({delay:2500,startTop:20,startRight:10,verticalSpacing:20,horizontalSpacing:20,positionX:"left",positionY:"bottom"})});
//# sourceMappingURL=app/app.min.js.map
